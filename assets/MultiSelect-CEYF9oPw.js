import{j as r}from"./index-CoQkRR_y.js";import{a as f,u as S,c as n,P as A}from"./createLucideIcon-xFbtuuOA.js";import{r as m}from"./iframe-CRwxOtmY.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],g=f("check",M);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M5 12h14",key:"1ays0h"}]],V=f("minus",T);function _({options:s,value:t,onChange:a,placeholder:h="Select…",showSelectAll:x=!1,layout:p="list",classNames:d={}}){const{open:c,setOpen:y,triggerRef:b,dropdownRef:v,styles:j}=S(),u=m.useRef(null),l=t.length===s.length&&s.length>0,w=t.length===0,o=!l&&!w;m.useEffect(()=>{u.current&&(u.current.indeterminate=o)},[o]);const k=e=>{t.includes(e)?a(t.filter(i=>i!==e)):a([...t,e])},q=()=>{a(l?[]:s.map(e=>e.value))},N=t.length>0?s.filter(e=>t.includes(e.value)).map(e=>e.label).join(", "):h;return r.jsxs("div",{ref:b,className:"relative",children:[r.jsx("button",{type:"button",onClick:()=>y(!c),"aria-haspopup":"listbox","aria-expanded":c,className:n("w-full border rounded-md px-3 py-2 text-left text-sm bg-background text-foreground border-input shadow-sm focus-visible:ring-2 focus-visible:ring-ring focus-visible:outline-none",t.length===0?"text-muted-foreground":"",d.trigger),children:N}),r.jsxs(A,{open:c,dropdownRef:v,styles:j,className:n("mt-1 rounded-md border bg-popover text-popover-foreground shadow-md p-2 space-y-1",d.dropdown),children:[x&&r.jsxs("label",{htmlFor:"select-all-checkbox",className:"flex items-center gap-2 cursor-pointer px-2 py-1 rounded text-sm hover:bg-muted select-none",children:[r.jsx("input",{ref:u,id:"select-all-checkbox",type:"checkbox",checked:l,onChange:q,className:"sr-only"}),r.jsx("span",{className:n("inline-flex h-4 w-4 items-center justify-center border rounded-sm",l||o?"bg-primary text-primary-foreground":""),"aria-hidden":"true",children:l?r.jsx(g,{size:16,"data-testid":"check-icon"}):o?r.jsx(V,{size:16,"data-testid":"minus-icon"}):null}),r.jsx("span",{children:"Select All"})]}),r.jsx("div",{className:n("grid gap-1",p==="list"?"grid-cols-1":p),children:s.map(e=>{const i=t.includes(e.value);return r.jsxs("label",{htmlFor:`option-${e.value}`,className:n("flex items-center gap-2 cursor-pointer text-sm rounded hover:bg-muted px-2 py-1 select-none",d.option),children:[r.jsx("input",{id:`option-${e.value}`,type:"checkbox",checked:i,onChange:()=>k(e.value),className:"sr-only"}),r.jsx("span",{className:n("inline-flex items-center justify-center w-4 h-4 border rounded-sm",i?"bg-primary text-primary-foreground":""),"aria-hidden":"true",children:i&&r.jsx(g,{size:16})}),r.jsx("span",{children:e.label})]},e.value)})})]})]})}_.__docgenInfo={description:"",methods:[],displayName:"MultiSelect",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:`{\r
  label: string;\r
  value: string;\r
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"value",value:{name:"string",required:!0}}]}}],raw:"MultiSelectOption[]"},description:""},value:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"value"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Select…"',computed:!1}},showSelectAll:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},layout:{required:!1,tsType:{name:"union",raw:'"list" | "grid-cols-2" | "grid-cols-3"',elements:[{name:"literal",value:'"list"'},{name:"literal",value:'"grid-cols-2"'},{name:"literal",value:'"grid-cols-3"'}]},description:"",defaultValue:{value:'"list"',computed:!1}},classNames:{required:!1,tsType:{name:"signature",type:"object",raw:`{\r
  trigger?: string;\r
  dropdown?: string;\r
  option?: string;\r
}`,signature:{properties:[{key:"trigger",value:{name:"string",required:!1}},{key:"dropdown",value:{name:"string",required:!1}},{key:"option",value:{name:"string",required:!1}}]}},description:"",defaultValue:{value:"{}",computed:!1}}}};export{_ as M};
